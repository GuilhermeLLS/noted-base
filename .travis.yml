language:
- node_js
node_js:
- '8'
script:
- yarn test
cache:
  yarn: true
  directories:
  - node_modules
deploy:
- provider: s3
  access_key_id: AKIAT7F3WHF7OL6JBHXL
  secret_access_key: &1
      secure: Y4tUk6qTpnSfDhqef70ySz94IedRvXVI438zgJFGwzQsFq9kX0KJWgpqDPCZpFVDwG32hmwEj+vGY9uUFL6TuoXu55sVrOnvoBZWFhT9vH9kkO+QhDIbJptfIJekXij8juYCS38rBshWsNHhPbOTgaizuNzU2ucQu19PRZ+dJumX2Z9/+n5eJQrL7Pp1m2OWnuacAgZngThLfVjEZnw7cAho9pwrvmvElfeqN/WW410LfgdkiU1Kpx8LQMOy2WH0FvWnK/UmDvQxNU8LRZTXqfumRrhoRXxuLcRSkfmjJcoPkYX1MC8Rj3Ve80ZDm98QVAi8rF9BCnjahzSmcrXajgmpg6kP26OD2/zosWKmxruC9uKDeJXYwU7U5dhrcPeSr6gqSK4/IDwLGt+fFoAMX/oR/QfUP4aEPJJx+ERxepsGEeV0CQSKX+bhp1+Kc/t0u+THTLwWipm2nyPjbC8zqKCcRw6Nkwo03BT4iTyV83A8aViLIQz301OM4A38aaDWaKhXV6dpB0/pNLG66plmp+jU7W2GlwnKRtKxAn4warBdI/W+5UGIxlqPoUynoNXG/h065Yp9oemLeKCqAkCzdxgGBJ5ncaj9mHgWINHzkVHkzOxSfJLj+h6LwMtulTo5Tv5d7qUqzgNAvD7e3R6r+ZQTeb1v0cDiF1NTV7xSa1A=
  local_dir: dist
  skip_cleanup: true
  on: &2
    repo: GuilhermeLLS/noted-base
    branch: main
  bucket: frontend-masters-course
- provider: codedeploy
  access_key_id: AKIAT7F3WHF7OL6JBHXL
  secret_access_key: *1
  bucket: frontend-masters-course
  key: dist
  bundle_type: ''
  application: noted-base
  deployment_group: ''
  on: *2
  cleanup: 'true'
before_deploy:
- yarn run build
deploy:
  y:
    secret_access_key:
      secure: Y4tUk6qTpnSfDhqef70ySz94IedRvXVI438zgJFGwzQsFq9kX0KJWgpqDPCZpFVDwG32hmwEj+vGY9uUFL6TuoXu55sVrOnvoBZWFhT9vH9kkO+QhDIbJptfIJekXij8juYCS38rBshWsNHhPbOTgaizuNzU2ucQu19PRZ+dJumX2Z9/+n5eJQrL7Pp1m2OWnuacAgZngThLfVjEZnw7cAho9pwrvmvElfeqN/WW410LfgdkiU1Kpx8LQMOy2WH0FvWnK/UmDvQxNU8LRZTXqfumRrhoRXxuLcRSkfmjJcoPkYX1MC8Rj3Ve80ZDm98QVAi8rF9BCnjahzSmcrXajgmpg6kP26OD2/zosWKmxruC9uKDeJXYwU7U5dhrcPeSr6gqSK4/IDwLGt+fFoAMX/oR/QfUP4aEPJJx+ERxepsGEeV0CQSKX+bhp1+Kc/t0u+THTLwWipm2nyPjbC8zqKCcRw6Nkwo03BT4iTyV83A8aViLIQz301OM4A38aaDWaKhXV6dpB0/pNLG66plmp+jU7W2GlwnKRtKxAn4warBdI/W+5UGIxlqPoUynoNXG/h065Yp9oemLeKCqAkCzdxgGBJ5ncaj9mHgWINHzkVHkzOxSfJLj+h6LwMtulTo5Tv5d7qUqzgNAvD7e3R6r+ZQTeb1v0cDiF1NTV7xSa1A=
